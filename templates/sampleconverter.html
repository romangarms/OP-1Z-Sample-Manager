{% extends "base.html" %}
{% from 'macros.html' import nav_button, loading_overlay_progress, settings_modal %}

{%block stylesheets %}
<link rel="stylesheet" href="/static/css/sampleconverter.css">
{%endblock%}

{%block title %}
<title>Sample Converter</title>
{%endblock%}

{% block main %}
<h1>Sample Converter</h1>
<p class="page-description">Convert audio files to the OP-1/OP-Z format for manual transfer to your device.</p>

<div class="header-row">
    {{ nav_button('/', 'Home', icon='home') }}
    <button onclick="openExplorer()" class="nav-btn nav-btn-secondary">
        <i data-lucide="folder-open"></i>
        Open Converted
    </button>
    <button onclick="openSettingsModal()" class="nav-btn nav-btn-secondary">
        <i data-lucide="settings"></i>
        Settings
    </button>
    <button onclick="deleteAllConverted()" class="nav-btn nav-btn-danger">
        <i data-lucide="trash-2"></i>
        Delete All Converted
    </button>
</div>

<div id="file-list">
    <div class="drop-zone-container">
        <div class="samplepackbox">
            <h3>Drum Samples</h3>
            <div class="drop-zone" id="drum-samples">
                <i data-lucide="drum" class="drop-icon"></i>
                <p class="drop-text">Drop files here or click to browse</p>
                <p class="drop-hint">Max 12 seconds (longer files auto-trimmed)</p>
            </div>
        </div>
    </div>

    <div class="drop-zone-container">
        <div class="samplepackbox">
            <h3>Synth Samples</h3>
            <div class="drop-zone" id="synth-samples">
                <i data-lucide="keyboard-music" class="drop-icon"></i>
                <p class="drop-text">Drop files here or click to browse</p>
                <p class="drop-hint">Max 6 seconds (longer files auto-trimmed)</p>
            </div>
        </div>
    </div>
</div>

{{ loading_overlay_progress(id='converting', title='Converting Samples', message='Please wait...') }}

{% call settings_modal() %}
{# Add page-specific settings here if needed #}
{% endcall %}

<script src="/static/js/sampleconverter.js"></script>

{% endblock %}

</html>