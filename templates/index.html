{% extends "base.html" %}

{%block stylesheets %}
<link rel="stylesheet" href="/static/css/homepage.css">
{%endblock%}

{%block title %}
<title>OP-1Z Sample Manager</title>
{%endblock%}

{% block main %}
<h1>OP-1Z Sample Manager</h1>

<div class="home-layout">
    <!-- Device Sidebar Container -->
    <div class="sidebar-container">
        <!-- Device Status Sidebar -->
        <aside class="device-sidebar collapsed" id="device-sidebar">
            <h3 class="sidebar-title">DEVICES <span class="beta-badge">BETA</span></h3>

        <!-- OP-Z Status Card -->
        <div class="device-card" id="opz-status-card" onclick="deviceStatus.openDeviceDirectory('opz')">
            <div class="device-header">
                <span class="status-indicator disconnected" id="opz-indicator"></span>
                <span class="device-name">OP-Z</span>
            </div>
            <div class="device-info">
                <span class="device-status" id="opz-status-text">Not connected</span>
                <span class="device-path" id="opz-path-text"></span>
            </div>
        </div>

        <!-- OP-1 Status Card -->
        <div class="device-card" id="op1-status-card" onclick="deviceStatus.openDeviceDirectory('op1')">
            <div class="device-header">
                <span class="status-indicator disconnected" id="op1-indicator"></span>
                <span class="device-name">OP-1</span>
            </div>
            <div class="device-info">
                <span class="device-status" id="op1-status-text">Not connected</span>
                <span class="device-path" id="op1-path-text"></span>
            </div>
        </div>
        </aside>

        <!-- Toggle Bar - attached to right edge of sidebar -->
        <button class="sidebar-toggle" id="sidebar-toggle" onclick="toggleSidebar()" title="Toggle devices panel">
            <i data-lucide="chevron-right" class="toggle-icon"></i>
            <span class="toggle-label">Devices</span>
        </button>
    </div>

    <!-- Main Content -->
    <main class="home-main">
        <div class="tile-grid">
    <!-- Row 1: Universal tools -->
    <a href="/sampleconverter" class="nav-tile tile-primary">
        <i data-lucide="audio-waveform"></i>
        <h3>Sample Converter</h3>
        <p>Convert audio files for OP-Z/OP-1</p>
    </a>

    <a href="/samplemanager" class="nav-tile tile-secondary">
        <i data-lucide="folder-open"></i>
        <h3>Sample Manager</h3>
        <p>Manage samples on your device</p>
        <span class="device-badge">OP-1 & OP-Z</span>
    </a>

    <!-- Row 2: Device-specific + Backup -->
    <div class="tile-split">
        <a href="/configeditor" class="nav-tile tile-warning tile-half">
            <i data-lucide="file-edit"></i>
            <h3>Config Editor</h3>
            <p>Edit OP-Z configs</p>
            <span class="device-badge">OP-Z</span>
        </a>
        <a href="/tapeexport" class="nav-tile tile-white tile-half">
            <i data-lucide="download"></i>
            <h3>Tape Export</h3>
            <p>Export OP-1 tapes to Downloads</p>
            <span class="device-badge">OP-1</span>
        </a>
    </div>

    <a href="/backup" class="nav-tile tile-danger">
        <i data-lucide="hard-drive-download"></i>
        <h3>Backup & Restore</h3>
        <p>Backup samples and projects</p>
        <span class="device-badge">OP-1 & OP-Z</span>
    </a>
        </div>
    </main>
</div>

<div class="footer-links">
    <a href="/utilitysettings" class="footer-link">
        <i data-lucide="settings"></i>
        Utility Settings
    </a>
    <span class="footer-separator"></span>
    <a href="/about" class="footer-link">
        <i data-lucide="info"></i>
        About
    </a>
</div>

<script src="/static/js/homepage.js"></script>
{% endblock %}